# MCP Server - –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. MCP Server (`mcp_server.py`)

- –ï–¥–∏–Ω—ã–π –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `convert_markdown_to_html`
- –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –≤—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –ø–∞–ø–∫–∏ –º–µ–¥–∏–∞, –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –ø—É—Ç–∏
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ—à–∏–±–∫–∞—Ö
- –ü–æ–¥—Ä–æ–±–Ω—ã–π docstring –¥–ª—è AI –∞–≥–µ–Ω—Ç–∞ (700+ —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

### 2. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **doc/MCP_SERVER.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (400+ —Å—Ç—Ä–æ–∫)
  - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —á–µ—Ä–µ–∑ uv
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è VS Code, Claude Desktop
  - –ü–æ–ª–Ω–æ–µ API —Ä–µ—Ñ–µ—Ä–µ–Ω—Å
  - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –¢–∏–ø—ã –æ—à–∏–±–æ–∫ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
  - –û—Ç–ª–∞–¥–∫–∞ –∏ troubleshooting
  
- **doc/MCP_QUICKSTART.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 —à–∞–≥–∞)

- **mcp_config_example.json** - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è VS Code

- **README.md** - –æ–±–Ω–æ–≤–ª—ë–Ω —Å —Å–µ–∫—Ü–∏–µ–π –æ MCP Server

### 3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- –î–æ–±–∞–≤–ª–µ–Ω `mcp>=1.0.0` –≤ `pyproject.toml`
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–∞–∫–µ—Ç MCP SDK (29 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

## üìã –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `input_file` - –ø—É—Ç—å –∫ .md —Ñ–∞–π–ª—É
- `media_folder` - –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –º–µ–¥–∏–∞
- `output_path` - –ø—É—Ç—å –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

- `enable_toc` (default: True) - –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- `toc_depth` (default: 2) - –≥–ª—É–±–∏–Ω–∞ TOC
- `enable_breadcrumbs` (default: True) - —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏
- `output_format` (default: "html") - —Ñ–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–∞
- `template` (default: "web") - —à–∞–±–ª–æ–Ω
- `media_mode` (default: "embed") - —Ä–µ–∂–∏–º –º–µ–¥–∏–∞
- `validate_media` (default: True) - –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–µ–¥–∏–∞

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π

1. ‚úÖ –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏–º–µ–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ .md
2. ‚úÖ –ü–∞–ø–∫–∞ –º–µ–¥–∏–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. ‚úÖ –í—ã—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω
4. ‚úÖ –í—Å–µ –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

- `InputFileNotFoundError` - —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω
- `MediaFolderNotFoundError` - –ø–∞–ø–∫–∞ –º–µ–¥–∏–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- `OutputPathNotFoundError` - –≤—ã—Ö–æ–¥–Ω–æ–π –ø—É—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- `MediaFilesNotFoundError` - –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã

## üöÄ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è VS Code

–î–æ–±–∞–≤—å—Ç–µ –≤ `mcp.json` (–ø—É—Ç—å: `%APPDATA%\Code\User\mcp.json`):

```json
{
  "servers": {
    "md-to-html": {
      "type": "stdio",
      "command": "C:\\PY\\MD_to_HTML\\.venv\\Scripts\\python.exe",
      "args": ["C:\\PY\\MD_to_HTML\\mcp_server.py"],
      "env": {
        "PYTHONIOENCODING": "utf-8",
        "PYTHONUTF8": "1"
      },
      "autoApprove": [
        "convert_markdown_to_html"
      ],
      "disabled": false,
      "timeout": 1800
    }
  }
}
```

**–í–∞–∂–Ω–æ**: –ò–∑–º–µ–Ω–∏—Ç–µ –ø—É—Ç–∏ –ø–æ–¥ –≤–∞—à—É —Å–∏—Å—Ç–µ–º—É!

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å AI

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å

```
–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π —Ñ–∞–π–ª C:/docs/lesson.md –≤ HTML.
–ú–µ–¥–∏–∞ –≤ C:/docs/media, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ C:/docs/output.
```

### –î–µ—Ç–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å

```
–ò—Å–ø–æ–ª—å–∑—É–π MCP —Å–µ—Ä–≤–µ—Ä md-to-html:
- –í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª: C:/docs/tutorial.md
- –ü–∞–ø–∫–∞ –º–µ–¥–∏–∞: C:/docs/images  
- –í—ã—Ö–æ–¥: C:/docs/html
- TOC –≥–ª—É–±–∏–Ω–∞: 3
- –®–∞–±–ª–æ–Ω: web
- –†–µ–∂–∏–º –º–µ–¥–∏–∞: embed
```

### –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ–¥–∏–∞

```
–ë—ã—Å—Ç—Ä–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π C:/docs/draft.md –≤ HTML
(–ø–∞–ø–∫–∞ –º–µ–¥–∏–∞ C:/docs/media, –≤—ã—Ö–æ–¥ C:/docs/output).
–ü—Ä–æ–ø—É—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫—É –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤.
```

## üéØ –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –£—Å–ø–µ—Ö

```json
{
  "status": "success",
  "output_files": ["C:/docs/output/lesson.html"],
  "stats": {
    "input_file": "C:/docs/lesson.md",
    "file_size": 12345,
    "media_files_found": 5,
    "media_files_missing": 0,
    "output_format": "html"
  },
  "message": "–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
}
```

### –û—à–∏–±–∫–∞

```json
{
  "status": "error",
  "error_type": "MediaFilesNotFoundError",
  "message": "–°–ª–µ–¥—É—é—â–∏–µ –º–µ–¥–∏–∞ —Ñ–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã (3): image1.png, ...",
  "details": {
    "missing_files": ["image1.png", "video.mp4", "audio.wav"],
    "total_missing": 3,
    "media_folder": "C:/docs/media"
  }
}
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã MCP

- mcp (1.25.0) - –æ—Å–Ω–æ–≤–Ω–æ–π SDK
- pydantic (2.12.5) - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- httpx (0.28.1) - HTTP –∫–ª–∏–µ–Ω—Ç
- starlette (0.50.0) - –≤–µ–± —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- uvicorn (0.40.0) - ASGI —Å–µ—Ä–≤–µ—Ä
- - 24 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ VS Code** –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É** —á–µ—Ä–µ–∑ Copilot –∑–∞–ø—Ä–æ—Å
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É—Ç–∏** –ø–æ–¥ –≤–∞—à—É —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
4. **–ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –≤ doc/MCP_SERVER.md –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [doc/MCP_SERVER.md](doc/MCP_SERVER.md) - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [doc/MCP_QUICKSTART.md](doc/MCP_QUICKSTART.md) - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [mcp_config_example.json](mcp_config_example.json) - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üåê –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Model Context Protocol](https://modelcontextprotocol.io/)
- [MCP Python SDK](https://github.com/modelcontextprotocol/python-sdk)
- [FastMCP Documentation](https://github.com/modelcontextprotocol/python-sdk/blob/main/docs/fastmcp.md)

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ
