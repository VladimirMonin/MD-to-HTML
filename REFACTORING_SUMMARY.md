# –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ v2.0 - –ò—Ç–æ–≥–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (‚úÖ 100%)

```
MD_to_HTML/
‚îú‚îÄ‚îÄ cli.py                  # ‚úÖ CLI —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (argparse)
‚îú‚îÄ‚îÄ convert.py              # ‚úÖ Python —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (YAML)
‚îú‚îÄ‚îÄ config.yaml             # ‚úÖ YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ test_new.py             # ‚úÖ –¢–µ—Å—Ç—ã –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îÇ
‚îú‚îÄ‚îÄ md_converter/           # ‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ config.py           # ‚úÖ Dataclass –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ converter.py        # ‚úÖ –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (6 —Å—Ç–∞–¥–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ preprocessors/      # ‚úÖ 5 –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ processors/         # ‚úÖ 3 –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ backends/           # ‚úÖ Pandoc backend
‚îÇ   ‚îî‚îÄ‚îÄ postprocessors/     # ‚úÖ 2 –ø–æ—Å—Ç–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.css        # ‚úÖ –ì–ª–∞–≤–Ω—ã–π CSS (–∏–º–ø–æ—Ä—Ç—ã)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ modules/        # ‚úÖ 9 CSS –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main_modules.js # ‚úÖ –ì–ª–∞–≤–Ω—ã–π JS (ES6)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ modules/        # ‚úÖ 5 JS –º–æ–¥—É–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ templates/          # ‚úÖ 2 HTML —à–∞–±–ª–æ–Ω–∞
‚îÇ
‚îî‚îÄ‚îÄ backup/                 # ‚úÖ –°—Ç–∞—Ä—ã–π –∫–æ–¥ –ø–µ—Ä–µ–º–µ—â–µ–Ω
```

### 2. Python –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (‚úÖ 17 —Ñ–∞–π–ª–æ–≤)

**md_converter/ (–≥–ª–∞–≤–Ω—ã–π –ø–∞–∫–µ—Ç):**

- ‚úÖ `__init__.py` - —ç–∫—Å–ø–æ—Ä—Ç—ã Converter, ConverterConfig
- ‚úÖ `config.py` - dataclass —Å–∏—Å—Ç–µ–º–∞ —Å nested configs (120 —Å—Ç—Ä–æ–∫)
- ‚úÖ `converter.py` - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å 6-stage pipeline (150 —Å—Ç—Ä–æ–∫)

**preprocessors/ (5 —Ñ–∞–π–ª–æ–≤):**

- ‚úÖ `base.py` - –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å Preprocessor
- ‚úÖ `obsidian.py` - ![[]] ‚Üí ![](), [[link]] ‚Üí [link](link.md)
- ‚úÖ `callouts.py` - [!NOTE] ‚Üí ::: note (Pandoc divs)
- ‚úÖ `mermaid.py` - ```mermaid ‚Üí <pre class="mermaid"> (HTML only)
- ‚úÖ `diff.py` - ```diff-python ‚Üí HTML "–ë—ã–ª–æ/–°—Ç–∞–ª–æ" (60 —Å—Ç—Ä–æ–∫)

**processors/ (3 —Ñ–∞–π–ª–∞):**

- ‚úÖ `merger.py` - —Å–ª–∏—è–Ω–∏–µ MD —Ñ–∞–π–ª–æ–≤ —Å natsort
- ‚úÖ `media.py` - embed/copy —Ä–µ–∂–∏–º—ã (80 —Å—Ç—Ä–æ–∫)
- ‚úÖ `template.py` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è HTML headers —Å CSS/JS

**backends/ (1 —Ñ–∞–π–ª):**

- ‚úÖ `pandoc.py` - Pandoc wrapper (HTML/EPUB configs, 150 —Å—Ç—Ä–æ–∫)

**postprocessors/ (2 —Ñ–∞–π–ª–∞):**

- ‚úÖ `mermaid_fix.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ --&gt; ‚Üí -->
- ‚úÖ `plyr_wrap.py` - stub –¥–ª—è Plyr wrapper

### 3. –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ (‚úÖ 3 —Ñ–∞–π–ª–∞)

- ‚úÖ `cli.py` - argparse CLI (100+ —Å—Ç—Ä–æ–∫)
- ‚úÖ `convert.py` - Python API —Å YAML (60 —Å—Ç—Ä–æ–∫)
- ‚úÖ `test_new.py` - —Ç–µ—Å—Ç—ã (100+ —Å—Ç—Ä–æ–∫)

### 4. CSS –ú–æ–¥—É–ª–∏ (‚úÖ 10 —Ñ–∞–π–ª–æ–≤)

- ‚úÖ `main.css` - –≥–ª–∞–≤–Ω—ã–π —Å @import –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ `fonts.css` - @font-face (7 —à—Ä–∏—Ñ—Ç–æ–≤)
- ‚úÖ `base.css` - body, –∑–∞–≥–æ–ª–æ–≤–∫–∏, –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã
- ‚úÖ `components.css` - –∫–æ–¥, —Ü–∏—Ç–∞—Ç—ã, —Ç–∞–±–ª–∏—Ü—ã, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ `admonitions.css` - –≤—ã–Ω–æ—Å–∫–∏ [!NOTE]
- ‚úÖ `toc.css` - –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ (#TOC)
- ‚úÖ `breadcrumbs.css` - —Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ —Å dropdown
- ‚úÖ `interactive.css` - –∫–Ω–æ–ø–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è, fullscreen
- ‚úÖ `diff.css` - diff –±–ª–æ–∫–∏ (–ë—ã–ª–æ/–°—Ç–∞–ª–æ)
- ‚úÖ `responsive.css` - @media queries

### 5. JS ES6 –ú–æ–¥—É–ª–∏ (‚úÖ 6 —Ñ–∞–π–ª–æ–≤)

- ‚úÖ `main_modules.js` - –≥–ª–∞–≤–Ω—ã–π —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ `codeCopy.js` - –∫–Ω–æ–ø–∫–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ `fullscreen.js` - fullscreen –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π/SVG
- ‚úÖ `breadcrumbs.js` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ breadcrumbs
- ‚úÖ `smoothScroll.js` - –ø–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ TOC
- ‚úÖ `mermaid.js` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Mermaid

### 6. HTML –®–∞–±–ª–æ–Ω—ã (‚úÖ 2 —Ñ–∞–π–ª–∞)

- ‚úÖ `book.html` - –∫–Ω–∏–∂–Ω—ã–π –≤–∏–¥ (–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π)
- ‚úÖ `web.html` - –≤–µ–± –≤–∏–¥ (Bootstrap 5 + sidebar)

### 7. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (‚úÖ 2 —Ñ–∞–π–ª–∞)

- ‚úÖ `config.yaml` - 50+ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ `pyproject.toml` - –æ–±–Ω–æ–≤–ª–µ–Ω (—Ç–æ–ª—å–∫–æ natsort + PyYAML)

### 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (‚úÖ 1 —Ñ–∞–π–ª)

- ‚úÖ `README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è v2.0 (300+ —Å—Ç—Ä–æ–∫)

### 9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (‚úÖ –ü—Ä–æ–π–¥–µ–Ω–æ)

```
üß™ –¢–µ—Å—Ç—ã:
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ config.yaml
‚úÖ –í—Å–µ 5 –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
‚úÖ –ë–∞–∑–æ–≤–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è MD ‚Üí HTML

üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´!
```

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤**: 37
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ Python**: ~1200
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ CSS**: ~650
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ JS**: ~300
- **–°—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ –≤ backup/**: 4

## üèóÔ∏è Pipeline (6 —Å—Ç–∞–¥–∏–π)

```
1. Merger         ‚Üí –°–ª–∏—è–Ω–∏–µ MD —Ñ–∞–π–ª–æ–≤ (natsort)
2. MediaProcessor ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ–¥–∏–∞ (embed/copy)
3. Preprocessors  ‚Üí Obsidian ‚Üí Callouts ‚Üí Mermaid ‚Üí Diff
4. Template       ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML <head> —Å CSS/JS
5. PandocBackend  ‚Üí –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è Pandoc (HTML/EPUB)
6. Postprocessors ‚Üí MermaidFix, PlyrWrap (—Ç–æ–ª—å–∫–æ HTML)
```

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–æ–¥ —Ä–∞–∑–±–∏—Ç –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏
2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - YAML + dataclass –≤–º–µ—Å—Ç–æ hardcode
3. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã/–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã
4. **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞** - CSS/JS/HTML –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç Python
5. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
6. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–ª–Ω—ã–π README —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

**CLI:**

```bash
python cli.py doc/README.md -f html
python cli.py "result/–î–µ–Ω—å ‚Ññ1" -f both --title "–î–µ–Ω—å 1"
```

**Python API:**

```bash
python convert.py
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- Python 3.9+
- Poetry
- Pandoc 3.7+
- natsort 8.4.0
- PyYAML 6.0

## ‚ú® –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω. –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É.
