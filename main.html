<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Highlight.js Stylesheet -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/tomorrow-night-bright.min.css"
    />

    <style>
      /* Скроем только параграф с специальным тегом внутри blockquote */
      blockquote .hidden-info {
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container mt-5">{{ content }}</div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Highlight.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
    <!-- Initialization of Highlight.js -->
    <script>
      hljs.highlightAll();
    </script>
    <!-- Making images, iframes, tables, etc. centered and responsive -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const elementsToCenter = {
          img: ['img-fluid', 'd-block', 'mx-auto'],
          iframe: ['d-block', 'mx-auto'],
          table: ['table', 'table-striped']  // Таблицы теперь тоже включены
        };

        // Применяем классы для каждого элемента из словаря
        Object.keys(elementsToCenter).forEach(tag => {
          document.querySelectorAll(tag).forEach(function (el) {
            elementsToCenter[tag].forEach(className => el.classList.add(className));
          });
        });
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        let blockquotes = document.querySelectorAll("blockquote");

        blockquotes.forEach(function (blockquote) {
          // Поиск первого элемента внутри blockquote, не обязательно параграфа
          let firstElement = blockquote.firstElementChild;

          if (firstElement && firstElement.tagName === "P") {
            let content = firstElement.textContent.trim();

            // Проверяем содержимое блока
            if (content === "[!info]") {
              blockquote.classList.add("alert", "alert-info");
              firstElement.classList.add("hidden-info");
            } else if (content === "[!warning]") {
              blockquote.classList.add("alert", "alert-warning");
              firstElement.classList.add("hidden-info");
            }
          }
        });
      });
    </script>
  </body>
</html>

